"Previous Section"_Section_modify.html - "ChemCell WWW Site"_cws -
"ChemCell Documentation"_cd - "ChemCell Commands"_cc :c

:link(cws,http://www.cs.sandia.gov/~sjplimp/chemcell.html)
:link(cd,Manual.html)
:link(cc,Section_commands.html#comm)

:line

7. Errors :h3

This section describes the various kinds of errors you can encounter
when using ChemCell.

7.1 "Common problems"_#7_1
7.2 "Reporting bugs"_#7_2
7.3 "Error & warning messages"_#7_3 :all(b)

:line

7.1 Common problems :link(7_1),h4

If two ChemCell runs do not produce the same answer on different
machines or different numbers of processors, this is typically not a
bug.  In theory you should get identical answers on any number of
processors and on any machine.  In practice, numerical round-off can
cause slight differences and eventual divergence of molecular dynamics
phase space trajectories within a few 100s or few 1000s of timesteps.
However, the statistical properties of the two runs (e.g. average
energy or temperature) should still be the same.

If the "velocity"_velocity.html command is used to set initial atom
velocities, a particular atom can be assigned a different velocity
when the problem on different machines.  Obviously, this means the
phase space trajectories of the two simulations will rapidly diverge.
See the discussion of the {loop} option in the
"velocity"_velocity.html command for details.

A ChemCell simulation typically has two stages, setup and run.  Most
ChemCell errors are detected at setup time; others like a bond
stretching too far may not occur until the middle of a run.

ChemCell tries to flag errors and print informative error messages so
you can fix the problem.  Of course ChemCell cannot figure out your
physics mistakes, like choosing too big a timestep, specifying invalid
force field coefficients, or putting 2 atoms on top of each other!  If
you find errors that ChemCell doesn't catch that you think it should
flag, please send us an "email"_mail.

:link(mail,mailto:sjplimp@sandia.gov)

If you get an error message about an invalid command in your input
script, you can determine what command is causing the problem by
looking in the log.ChemCell file or using the "echo command"_echo.html
to see it on the screen.  For a given command, ChemCell expects certain
arguments in a specified order.  If you mess this up, ChemCell will
often flag the error, but it may read a bogus argument and assign a
value that is valid, but not what you wanted.  E.g. trying to read the
string "abc" as an integer value and assigning the associated variable
a value of 0.

Generally, ChemCell will print a message to the screen and exit
gracefully when it encounters a fatal error.  Sometimes it will print
a WARNING and continue on; you can decide if the WARNING is important
or not.  If ChemCell crashes or hangs without spitting out an error
message first then it could be a bug (see "this section"_#9_2) or one
of the following cases:

ChemCell runs in the available memory a processor allows to be
allocated.  Most reasonable MD runs are compute limited, not memory
limited, so this shouldn't be a bottleneck on most platforms.  Almost
all large memory allocations in the code are done via C-style malloc's
which will generate an error message if you run out of memory.
Smaller chunks of memory are allocated via C++ "new" statements.  If
you are unlucky you could run out of memory just when one of these
small requests is made, in which case the code will crash or hang (in
parallel), since ChemCell doesn't trap on those errors.

Illegal arithmetic can cause ChemCell to run slow or crash.  This is
typically due to invalid physics and numerics that your simulation is
computing.  If you see wild thermodynamic values or NaN values in your
ChemCell output, something is wrong with your simulation.

In parallel, one way ChemCell can hang is due to how different MPI
implementations handle buffering of messages.  If the code hangs
without an error message, it may be that you need to specify an MPI
setting or two (usually via an environment variable) to enable
buffering or boost the sizes of messages that can be buffered.

:line

7.2 Reporting bugs :link(7_2),h4

If you are confident that you have found a bug in ChemCell, we'd like to
know about it via "email"_mail.

First, check the "New features and bug fixes" section of the "ChemCell
WWW site"_cws to see if the bug has already been reported or fixed.

If not, the most useful thing you can do for us is to isolate the
problem.  Run it on the smallest number of atoms and fewest number of
processors and with the simplest input script that reproduces the bug.

Send an email that describes the problem and any ideas you have as to
what is causing it or where in the code the problem might be.  We'll
request your input script and data files if necessary.

:line

7.3 Error & warning Messages :h4,link(7_3)

These are two alphabetic lists of the "ERROR"_#error and
"WARNING"_#warn messages ChemCell prints out and the reason why.  If the
explanation here is not sufficient, the documentation for the
offending command may help.  Grepping the source files for the text of
the error message and staring at the source code and comments is also
not a bad idea!  Note that sometimes the same message can be printed
from multiple places in the code.

Errors: :h4,link(error)

:dlb

{%d local particles on proc %d are in ghost cells after compact} :dt

** ADD TEXT :dd

{%d particles assigned to procs} :dt

** ADD TEXT :dd

{2d particle move hit a triangle vertex} :dt

** ADD TEXT :dd

{Alias %s already exists} :dt

Cannot reuse a species name.

{All universe/uloop variables must have same # of values} :dd

{All variables in next command must be same style} :dt

Self-explanatory. :dd

{Another input script is already being processed} :dt

Cannot attempt to open a 2nd input script, when the original file is
still being processed. :dd

{Arccos of invalid value in variable formula} :dt

Argument of arccos() must be between -1 and 1. :dd

{Arcsin of invalid value in variable formula} :dt

Argument of arcsin() must be between -1 and 1. :dd

{Bin size of 0.0} :dt

Self-explanatory. :dd

{Bins are already setup} :dt

Global and boundary command must be used before bins command.  Bins
command can only be used once. :dd

{Cannot add triangles to a region surface} :dt

** ADD TEXT :dd

{Cannot change dimension of existing particles} :dt

** ADD TEXT :dd

{Cannot check for a 2d species} :dt

** ADD TEXT :dd

{Cannot do move_test with timestep = 0} :dt

** ADD TEXT :dd

{Cannot have 0-reactant reactions with spatial simulation} :dt

This is because the volume within which to create the particles
is not well-defined.

{Cannot open fix conc/random file %s} :dt

Self-explanatory. :dd

{Cannot open fix conc/set file %s} :dt

Self-explanatory. :dd

{Cannot open input script %s} :dt

Self-explanatory. :dd

{Cannot open logfile %s} :dt

The ChemCell log file specified in the input script cannot be opened.
Check that the path and name are correct. :dd

{Cannot open restart file %s} :dt

Self-explanatory. :dd

{Cannot perform match with two or more wildcard *} :dt

A string with a wildcard character "*" can only have one wildcard. :dd

{Cannot redefine variable as a different style} :dt

An equal-style variable can be re-defined but only if it was
originally an equal-style variable. :dd

{Cannot set permeability for a 2d species} :dt

Permeability only makes sense for a 3d species hitting a surface. :dd

{Cannot use balance command with non-spatial simulation} :dt

Self-explanatory. :dd

{Cannot use bin command with non-spatial simulation} :dt

Self-explanatory. :dd

{Cannot use count command with spatial simulation} :dt

Self-explantory. :dd

{Cannot use diffusion command with non-spatial simulation} :dt

Self-explantory. :dd

{Cannot use dimension command with non-spatial simulation} :dt

Self-explantory. :dd

{Cannot use dump command with non-spatial simulation} :dt

Self-explantory. :dd

{Cannot use fix conc/random with non-spatial simulations} :dt

Self-explantory. :dd

{Cannot use fix conc/set with spatial simulations} :dt

Self-explantory. :dd

{Cannot use fix dna/toggle with spatial simulations} :dt

Self-explantory. :dd

{Cannot use fix rate/saturate with spatial simulations} :dt

Self-explantory. :dd

{Cannot use global command with non-spatial simulation} :dt

Self-explantory. :dd

{Cannot use move_style command with non-spatial simulation} :dt

Self-explantory. :dd

{Cannot use move_test command with non-spatial simulation} :dt

Self-explantory. :dd

{Cannot use particle command with non-spatial simulation} :dt

Self-explantory. :dd

{Cannot use permeable command with non-spatial simulation} :dt

Self-explantory. :dd

{Cannot use probability command with non-spatial simulation} :dt

Self-explantory. :dd

{Cannot use region command with non-spatial simulation} :dt

Self-explantory. :dd

{Cannot use this run style in parallel} :dt

Only some run styles support parallel execution. :dd

{Cannot use timestep command with gillespie simulation} :dt

Stochastic simulations set the timestep for each reaction. :dd

{Cannot use triangles command with non-spatial simulation} :dt

Self-explantory. :dd

{Cannot use volume command with spatial simulation} :dt

Self-explantory. :dd

{Cannot write dump files for non-spatial simulation} :dt

Self-explantory. :dd

{Cannot write restart files for non-spatial simulation} :dt

Restart files only contain particle info, so they are not
used for non-spatial simulations. :dd

{Code is not compiled with move debug option} :dt

** ADD TEXT :dd

{Could not find reaction ID} :dt

Self-explantory. :dd

{Could not find undump ID} :dt

Self-explantory. :dd

{Could not find unfix ID} :dt

Self-explantory. :dd

{Could not find unreact ID} :dt

Self-explantory. :dd

{Could not open balance file} :dt

The output file used by the balance command could not be opened. :dd

{Could not open dump file} :dt

The output file used by the dump command could not be opened. :dd

{Could not open input script} :dt

Self-explantory. :dd

{Could not open log.ccell} :dt

Self-explantory. :dd

{Could not open logfile} :dt

Self-explantory. :dd

{Could not open move_test file} :dt

The output file used by the move_test command could not be opened. :dd

{Could not open screen file} :dt

The screen file specified as a command-line argument cannot be
opened.  Check that the directory you are running in allows for files
to be created. :dd

{Could not open universe log file} :dt

For a multi-partition run, the master log file cannot be opened.
Check that the directory you are running in allows for files to be
created. :dd

{Could not open universe screen file} :dt

For a multi-partition run, the master screen file cannot be opened.
Check that the directory you are running in allows for files to be
created. :dd

{Cound not find dump_modify ID} :dt

Self-explanatory. :dd

{Did not assign all particles correctly} :dt

** ADD TEXT :dd

{Did not find matching reaction particle} :dt

** ADD TEXT :dd

{Divide by 0 in variable formula} :dt

Self-explanatory. :dd

{Dump species count does not match particle species count} :dt

** ADD TEXT :dd

{Failed to allocate %d bytes for array %s} :dt

Your ChemCell simulation has run out of memory.  You need to run a
smaller simulation or on more processors. :dd

{Failed to reallocate %d bytes for array %s} :dt

Your ChemCell simulation has run out of memory.  You need to run a
smaller simulation or on more processors. :dd

{Global bin does not map to local domain} :dt

** ADD TEXT :dd

{Illegal ... command} :dt

Self-explanatory.  Check the input script syntax and compare to the
documentation for the command.  You can use -echo screen as a
command-line option when running ChemCell to see the offending line. :dd

{Invalid diffusion constant} :dt

Diffusion coefficient must be >= 0. :dd

{Invalid dimensionality} :dt

Dimensionality must be 2 or 3. :dd

{Invalid dump frequency} :dt

Dump frequency must be 1 or greater. :dd

{Invalid fix style} :dt

Self-explanatory. :dd

{Invalid region style} :dt

Self-explanatory. :dd

{Invalid run style} :dt

Self-explanatory. :dd

{Input line too long after variable substitution} :dt

This is a hard (very large) limit defined in the input.cpp file. :dd

{Input line too long: %s} :dt

This is a hard (very large) limit defined in the input.cpp file. :dd

{Invalid 2d particle move} :dt

** ADD TEXT :dd

{Invalid command-line argument} :dt

One or more command-line arguments is invalid.  Check the syntax of
the command you are using to launch LAMMPS. :dd

{Invalid flag in header of restart file} :dt

** ADD TEXT :dd

{Invalid math function in variable formula} :dt

The math or group function is not recognized. :dd

{Invalid reaction ID in fix dna/toggle command} :dt

** ADD TEXT :dd

{Invalid reaction ID in fix rate/saturate command} :dt

** ADD TEXT :dd

{Invalid region arguments} :dt

Number of arguments doesn't match region style. :dd

{Invalid settings for reaction %s} :dt

** ADD TEXT :dd

{Invalid species %s in stats command} :dt

Self-explanatory. :dd

{Invalid species ID in fix conc/random command} :dt

Self-explanatory. :dd

{Invalid species ID in fix conc/set command} :dt

Self-explanatory. :dd

{Invalid species ID in fix dna/toggle command} :dt

Self-explanatory. :dd

{Invalid species ID in fix rate/saturate command} :dt

Self-explanatory. :dd

{Invalid syntax in variable formula} :dt

Self-explanatory. :dd

{Invalid variable evaluation in variable formula} :dt

A variable used in a formula could not be evaluated. :dd

{Invalid variable in next command} :dt

Self-explanatory. :dd

{Invalid variable name in variable formula} :dt

Variable name is not recognized. :dd

{Invalid variable name} :dt

Variable name used in an input script line is invalid. :dd

{Invalid variable style with next command} :dt

Variable styles {equal} and {world} cannot be used in a next
command. :dd

{Label wasn't found in input script} :dt

Self-explanatory. :dd

{Log of zero/negative in variable formula} :dt

Self-explanatory. :dd

{Max 2d move distance > bin size} :dt

** ADD TEXT :dd

{Max 3d move distance > bin size} :dt

** ADD TEXT :dd

{Max reaction distance > bin size} :dt

** ADD TEXT :dd

{Move to next bin out of range} :dt

** ADD TEXT :dd

{Must be 2 or more bins in periodic dimensions} :dt

** ADD TEXT :dd

{Must print stats in count units for spatial simulation} :dt

** ADD TEXT :dd

{Must set bins before defining region} :dt

** ADD TEXT :dd

{Must set bins before read restart} :dt

** ADD TEXT :dd

{Must set bins before reading particles} :dt

** ADD TEXT :dd

{Must set bins before reading surface} :dt

** ADD TEXT :dd

{Must set bins before run} :dt

** ADD TEXT :dd

{Must set global domain before bins} :dt

** ADD TEXT :dd

{Must set run_style first} :dt

Cannot use this command before the run style is set :dd

{Must set simulation domain via global command} :dt

** ADD TEXT :dd

{Must set volume for run style gillespie} :dt

** ADD TEXT :dd

{Must set volume for run style ode/rk} :dt

This run style requires that the volume command be used. :dd

{Must set volume for run style ode} :dt

This run style requires that the volume command be used. :dd

{Must use -in switch with multiple partitions} :dt

A multi-partition simulation cannot read the input script from stdin.
The -in command-line option must be used to specify a file. :dd

{No matching move style parameters} :dt

** ADD TEXT :dd

{No particle species match dump species} :dt

** ADD TEXT :dd

{Part,spec %d,%d on step %d exceeds MAXITER} :dt

** ADD TEXT :dd

{Particle %d is outside global domain} :dt

** ADD TEXT :dd

{Particle %d's triangle does not exist} :dt

** ADD TEXT :dd

{Particle is outside global domain} :dt

** ADD TEXT :dd

{Particles surf-ID does not exist} :dt

** ADD TEXT :dd

{Permeability is set for 2d species} :dt

** ADD TEXT :dd

{Permeable probabilities do not sum to 1.0} :dt

** ADD TEXT :dd

{Permeable stick species is not 2d} :dt

** ADD TEXT :dd

{Post-migrate: %d particles on proc %d are not in correct bin} :dt

** ADD TEXT :dd

{Power by 0 in variable formula} :dt

** ADD TEXT :dd

{Pre-migrate: %d particles on proc %d are not in correct bin} :dt

** ADD TEXT :dd

{Probability %g for reaction %s is too large} :dt

** ADD TEXT :dd

{Processor partitions are inconsistent} :dt

The total number of processors in all partitions must match the number
of processors LAMMPS is running on. :dd

{Reaction ID %s already exists} :dt

** ADD TEXT :dd

{Reaction cannot have more than MAX_PRODUCT products} :dt

** ADD TEXT :dd

{Reaction has no numeric rate} :dt

** ADD TEXT :dd

{Reaction must have 0,1,2 reactants} :dt

** ADD TEXT :dd

{Reading 2d particles for a 3d species} :dt

** ADD TEXT :dd

{Reading 3d particles for a 2d species} :dt

** ADD TEXT :dd

{Region extends outside global domain} :dt

** ADD TEXT :dd

{Region intersects bin next to periodic boundary} :dt

** ADD TEXT :dd

{Region surf-ID already exists} :dt

** ADD TEXT :dd

{Replacing a fix, but new style != old style} :dt

A fix ID can be used a 2nd time, but only if the style matches the
previous fix.  In this case it is assumed you with to reset a fix's
parameters.  This error may mean you are mistakenly re-using a fix ID
when you do not intend to. :dd

{Reuse of dump ID} :dt

A dump ID cannot be used twice. :dd

{Run style does not support checking} :dt

Not all run styles can use check command. :dd

{Simulation domain is already set} :dt

** ADD TEXT :dd

{Species already exists and no new aliases are defined} :dt

** ADD TEXT :dd

{Sqrt of negative in variable formula} :dt

Self-explanatory. :dd

{Sticking species is not 2d} :dt

** ADD TEXT :dd

{Substitution for illegal variable} :dt

Input script line contained a variable that could not be substituted
for. :dd

{Summed probability %g for species %s & %s is too large} :dt

** ADD TEXT :dd

{Summed probability %g for species %s is too large} :dt

** ADD TEXT :dd

{Triangle intersects bin next to periodic boundary} :dt

** ADD TEXT :dd

{Two or more wildcard * in count species ID} :dt

A string with a wildcard character "*" can only have one wildcard. :dd

{Two or more wildcard * in diffusion species ID} :dt

A string with a wildcard character "*" can only have one wildcard. :dd

{Two or more wildcard * in dimension species ID} :dt

A string with a wildcard character "*" can only have one wildcard. :dd

{Two or more wildcard * in stats species ID} :dt

A string with a wildcard character "*" can only have one wildcard. :dd

{Unbalanced quotes in input line} :dt

No matching end double quote was found following a leading double
quote. :dd

{Unexpected end of file} :dt

ChemCell hit the end of the file while attempting to read particles or
surface info.  Something is wrong with the format of the file. :dd

{Universe/uloop variable count < # of partitions} :dt

A universe or uloop style variable must specify a number of values >= to the
number of processor partitions. :dd

{Unknown command: %s} :dt

The command is not known to ChemCell.  Check the input script. :dd

{Unknown species %s in check command} :dt

Self-explantory. :dd

{Unknown species %s in permeable command} :dt

Self-explanatory. :dd

{Unknown species in count command} :dt

Self-explanatory. :dd

{Unknown species in diffusion command} :dt

Self-explanatory. :dd

{Unknown species in dimension command} :dt

Self-explanatory. :dd

{Unknown species in move_test command} :dt

Self-explanatory. :dd

{Unknown species in particles command} :dt

Self-explanatory. :dd

{Unknown species in reaction command} :dt

Self-explanatory. :dd

{Unknown surface %s in check command} :dt

Self-explanatory. :dd

{Unknown surface %s in permeable command} :dt

Self-explanatory. :dd

{Variable name must be alphanumeric or underscore characters} :dt

Self-explanatory. :dd

{Vertex %d in surf %s is outside global domain} :dt

** ADD TEXT :dd

{World variable count doesn't match # of partitions} :dt

A world-style variable must specify a number of values equal to the
number of processor partitions. :dd

:dle

Warnings: :h4,link(warn)

:dlb

{Particle is inside surface} :dt

** ADD TEXT :dd

{Particle is outside surface} :dt

** ADD TEXT :dd

{Restart file used different # of processors} :dt

** ADD TEXT :dd

{Restart file version does not match ChemCell version} :dt

** ADD TEXT :dd

{Run styles do not match} :dt

** ADD TEXT :dd

:dle
